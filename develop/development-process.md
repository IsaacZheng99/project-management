## 1. 开发流程

以下是个人根据工作经历整理的开发流程，主要是基于programmercarl的文档和我个人的经历总结的内容，个人的经历也比较有限，如果有过于浅薄或者有误的地方，欢迎讨论。

### 1. 需求文档

- 需求文档能够基本给出策划或产品经理期望的功能效果，结合可视化的图示会更好理解
- 相关的迭代或程序提出的问题都可以记录在需求文档中，以便后续的查询，当然像程序的提问也可以记录在其他地方，关键是有记录；但是像需求的迭代，还是记录在文档中比较好，并且要标注好事件和修改的内容梗概

### 2. 根据需求文档拆解出要实现的功能

- 这一步是程序根据策划或产品经理给出的文档上的功能需求，自己整理出涉及到的业务模块，对于有一定规模的项目来说，一个看似简单的只有两三步的功能，可能牵涉到的模块会有很多（存盘、离线、上下线处理等等）
- 程序看到的功能以及最后实现出来的预想效果，可能和策划或产品经理写在文档中的内容并不一致，即使用了详细的文字或图示来表示，这时双方需要保持沟通，记录问题和相关的修改

### 3. 分析需求

- 找出重难点：当我们确认好需要实现的功能后，这个功能整体上会有一定的难易，例如工作量的多少、实现上的难度（简单的需求可能只需要crud，稍复杂的可能就需要考虑离线、重连、执行效率、优化存储、各模块间的交互、重构已有代码、扩展性等问题）
- 确定工作量。分析好大致的实现难度之后，可以较明确地知道接下来需要处理哪些代码，据此可以给出一个大致的工作时间的预估（一天、一周。。。）

个人认为分析需求的最终目的是对自己当前工作的一个整体评估，这也有利于在后续报告中体现自己的工作价值。同时，在分析的过程中也是梳理代码的过程，无论是积累自己的方法论，还是优化重构现有的代码，都是一个积累并慢慢提升的过程，同样这也可以写在报告中。（`这里强调了一下“报告”，并不是说形式主义上的报告内容，而是有真正干货，并且能让其他人也看到内容的报告。`）

### 4. 系统文档

- 新建系统文档：当我们新增的业务模块时（已有的模块不能满足需求），我们就需要新建一个文档了。从代码角度看，个人觉得“新建”的好处时，个人的可操作性较大，会更有成就感，难点是需要注意后续的扩展，避免后续需要花太多时间去重构。从文档方面看，新建文档时要考虑其他同事维护的成本，贯彻团队风格的实行，尽量保证细节的完整和清楚（UML图等方式）。（`因为我个人目前还没有从头开始实现过一个较大的系统，这部分的内容可能比较单薄。`）
- 完善已有的文档：当我们是在已有的功能上进行添加时，就需要去更新已有的文档了，除了上述提到的问题，主要就是补充新增的内容了，但个人觉得还需要注意的一点是“重构”：开发和重构是并行的，如果涉及到了重构，文档和代码的改动都应该描述清楚。
- 说明文档。上述提到的都是业务系统文档，很多时候我们做一些基建功能（例如服务器维护），会有一条完整的流程线，其中会涉及到相关指令，各种参数，这部分“流程文档”的维护也是很重要的，能够在之后的操作中避免很多问题。（`因为不是业务开发，可能遇到的报错我们不好通过调试去解决，有时需要去和其他部门的同事对接，不同部门的对接又是一个耗时的过程，所以能够把流程规范，相关问题记录清楚，是能提升不少效率的。`）

### 5. 定协议

- 协议是用来确定通信时发送的数据的
- 很多时候，我们下意识的会形成来一个功能就加一个协议的习惯，但我个人认为出现这样的问题，一定程度上是和代码的扩展性相关的，这个时候可以思考下代码是不是需要优化了。

### 6. 设计实现

- 这里指的是实现的一些细节，即：程序 = 数据结构 + 算法
- 数据结构很多时候影响了代码的空间复杂度，当然也有会时间复杂度的影响（数组的查询和列表的查询在耗时上差了一个数量级），同事算法会影响我们的时间复杂度。以我的经历来看，多数情况下不会运用到算法，但是在一些经典的业务场景中，算法也是很重要的，例如游戏中的寻路，连通等问题。
- 此外，不同语言也为我们提供了很多编程技巧，或者说是大家比较熟悉的设计模式的代码。以Python为例，装饰器的使用能过使我们的代码扩展性更高，并且有一定的可读性。更通用一些的，像池化技术，能够帮助我们节省内存的消耗（这里主要是指内存的不断回收和分配时的消耗，以及内存碎片的消耗）。

### 7. 写代码

### 8. 自测

- 自己写一些测试数据来测试，此时要注意边界条件
- 自动化测试：使用一些工具进行自动化测试：例如压测机器人。可以用来测试逻辑、内存泄漏等问题。
- 测试除了测试自己的逻辑，也节省了后续和其他同事对接的时间，因为在自测的过程中能迅速的找到一些小问题，及时解决后，在后续联调时就能避免报错导致需要浪费多个人的时间了。

### 9. 联调

- 我个人经历的联调一般只有两个人，服务端和客户端各一个，或者接入一些公共模块时需要和公共的服务端同事对接。
- 联调也是一个比较耗时的过程，而且耗费的是多个人的时间，个人总结了一些可以注意的点：
  - 规范日志：无论是测试阶段还是上线后，日志都能够很好地帮助排查问题，同时你记录的日志也在一定程度上反映了你对数据的敏感性，表明你觉得哪些代码是需要特别注意的
  - 提前准备好一些测试数据和gm指令

## 10. 交付测试

### 11. code review

- 个人觉得这块做得不太好，主要有以下问题：
  - 不及时
  - 反馈较少（`可能是因为放不开，也可能是因为不需要精益求精，也可能是因为这个环节不严格`）
- 个人认为code review有以下好处
  - 规范团队代码
  - 学习设计思路

### 12. 合并

这块的经历较少，主要就是合并的冲突解决，以及合并后的整体测试。感觉代码管理这块还是不太规范，合并会花一些时间。

### 13. 发布

- 日常维护
- 大版本更新
